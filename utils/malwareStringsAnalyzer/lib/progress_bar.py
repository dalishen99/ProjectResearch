from tqdm import tqdm
import time, sys

class ProgressBar(object):

    def __init__(self):
        self.bar = None
        self.bar_size = 50
        self.max_val = 0
        self.cur_val = 0

    def cur_percentage(self):
        return (self.cur_val * 100) / self.max_val

    def cur_progression(self):
        prog = ""
        nb_prog = (self.cur_percentage()) * self.bar_size / 100
        prog += "|" * nb_prog
        prog += " " * (self.bar_size - nb_prog)
        return prog

    def display_bar(self):
        print "\r{}% [".format(self.cur_percentage()) + self.cur_progression() \
                + "]" + "({}/{})".format(self.cur_val, self.max_val),
        sys.stdout.flush()

    def init(self, iterable):
        self.max_val = len(iterable)
        self.display_bar

    def update(self):
        self.cur_val += 1
        self.display_bar()

    def close(self):
        #print unicode("\râœ“" + " " * 100).encode('utf-8'),
        print unicode("\r" + " " * 100).encode('utf-8'),
        #pass
